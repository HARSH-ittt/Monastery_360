<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore Sikkim - Interactive Map</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      .header {
        text-align: center;
        margin-bottom: 40px;
      }

      .header h1 {
        color: #2c3e50;
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      .header p {
        color: #7f8c8d;
        font-size: 1.2em;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }

      .map-container {
        display: flex;
        gap: 40px;
        align-items: center;
        flex-wrap: wrap;
      }

      .map-section {
        flex: 1;
        min-width: 400px;
      }

      .info-section {
        flex: 1;
        min-width: 350px;
      }

      .sikkim-map {
        position: relative;
        width: 100%;
        max-width: 500px;
        margin: 0 auto;
      }

      .sikkim-svg {
        width: 100%;
        height: auto;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.15));
        display: block;
        border: 2px solid #2c3e50;
        border-radius: 8px;
        max-height: 600px;
      }
      
      .map-controls {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        gap: 5px;
        z-index: 100;
      }
      
      .reset-button, .zoom-button {
        background-color: #2c3e50;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 8px 12px;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .reset-button:hover, .zoom-button:hover {
        background-color: #1a252f;
      }
      
      .zoom-controls {
        display: flex;
        gap: 5px;
      }
      
      .zoom-button {
        width: 40px;
        height: 40px;
        font-size: 18px;
        font-weight: bold;
      }
      
      .district-tooltip {
        position: absolute;
        background-color: rgba(44, 62, 80, 0.9);
        color: white;
        padding: 10px;
        border-radius: 4px;
        font-size: 14px;
        pointer-events: none;
        z-index: 1000;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        max-width: 200px;
        line-height: 1.5;
      }

      .district {
        cursor: pointer;
        transition: all 0.3s ease;
      }
      
      area {
        outline: none;
        cursor: pointer;
      }
      
      .district-highlight {
        position: absolute;
        pointer-events: none;
        opacity: 0.4;
        transition: all 0.3s ease;
      }

      .north-sikkim {
        fill: #e74c3c;
      }

      .east-sikkim {
        fill: #3498db;
      }

      .west-sikkim {
        fill: #2ecc71;
      }

      .south-sikkim {
        fill: #f39c12;
      }

      .district-info {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border-left: 5px solid #3498db;
        min-height: 400px;
        transition: all 0.4s ease;
      }

      .district-info.active {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .district-info h2 {
        color: #2c3e50;
        font-size: 1.8em;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .district-color {
        width: 20px;
        height: 20px;
        border-radius: 50%;
      }

      .district-info h3 {
        color: #34495e;
        font-size: 1.2em;
        margin: 20px 0 10px;
        border-bottom: 2px solid #ecf0f1;
        padding-bottom: 5px;
      }

      .district-info p {
        color: #7f8c8d;
        line-height: 1.6;
        margin-bottom: 15px;
      }

      .attractions-list {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 15px;
      }

      .attraction-tag {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        padding: 8px 15px;
        border-radius: 25px;
        font-size: 0.9em;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .stats {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 20px;
      }

      .stat {
        background: rgba(52, 152, 219, 0.1);
        padding: 15px;
        border-radius: 10px;
        text-align: center;
      }

      .stat-number {
        font-size: 1.5em;
        font-weight: bold;
        color: #2c3e50;
      }

      .stat-label {
        color: #7f8c8d;
        font-size: 0.9em;
        margin-top: 5px;
      }

      .legend {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 30px;
        padding: 20px;
        background: rgba(236, 240, 241, 0.5);
        border-radius: 10px;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        padding: 8px 12px;
        border-radius: 8px;
        transition: background 0.3s ease;
      }

      .legend-item:hover {
        background: rgba(255, 255, 255, 0.7);
      }

      .legend-color {
        width: 15px;
        height: 15px;
        border-radius: 50%;
      }

      @media (max-width: 768px) {
        .map-container {
          flex-direction: column;
        }

        .header h1 {
          font-size: 2em;
        }

        .container {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Explore Sikkim</h1>
        <p>
          Discover the enchanting beauty of Sikkim through our interactive map.
          Hover over different districts to explore their unique attractions and
          cultural heritage.
        </p>
      </div>

      <div class="map-container">
        <div class="map-section">
          <div class="sikkim-map">
            <object id="sikkim-svg" data="sikkim_map.svg" type="image/svg+xml" class="sikkim-svg"></object>
          </div>

          <div class="legend">
            <div class="legend-item" data-district="north">
              <div class="legend-color" style="background-color: #e74c3c"></div>
              <span>North Sikkim</span>
            </div>
            <div class="legend-item" data-district="east">
              <div class="legend-color" style="background-color: #3498db"></div>
              <span>East Sikkim</span>
            </div>
            <div class="legend-item" data-district="west">
              <div class="legend-color" style="background-color: #2ecc71"></div>
              <span>West Sikkim</span>
            </div>
            <div class="legend-item" data-district="south">
              <div class="legend-color" style="background-color: #f39c12"></div>
              <span>South Sikkim</span>
            </div>
          </div>
        </div>

        <div class="info-section">
          <div class="district-info" id="info-display">
            <h2>
              <div
                class="district-color"
                style="background-color: #3498db"
              ></div>
              Welcome to Sikkim
            </h2>
            <p>
              Hover over any district on the map to discover its unique
              attractions, culture, and natural wonders. Sikkim offers
              breathtaking landscapes from snow-capped peaks to lush valleys.
            </p>

            <h3>Quick Facts</h3>
            <div class="stats">
              <div class="stat">
                <div class="stat-number">4</div>
                <div class="stat-label">Districts</div>
              </div>
              <div class="stat">
                <div class="stat-number">8,848m</div>
                <div class="stat-label">Highest Peak</div>
              </div>
              <div class="stat">
                <div class="stat-number">7,096 km²</div>
                <div class="stat-label">Total Area</div>
              </div>
              <div class="stat">
                <div class="stat-number">610,577</div>
                <div class="stat-label">Population</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Initialize when the page loads
      window.onload = function() {
        // Nothing to initialize here now, SVG is handled by the load event listener
      };
      
      const districtData = {
        north: {
          name: "North Sikkim",
          color: "#e74c3c",
          description:
            "The largest and most sparsely populated district, North Sikkim is a high-altitude wonderland featuring glaciers, alpine lakes, and the majestic Kanchenjunga.",
          attractions: [
            "Gurudongmar Lake",
            "Yumthang Valley",
            "Zero Point",
            "Lachung",
            "Lachen",
            "Rhododendron Sanctuary",
          ],
          altitude: "1,200 - 8,586m",
          area: "4,226 km²",
          headquarters: "Mangan",
          highlights:
            "Home to the sacred Gurudongmar Lake and the Valley of Flowers (Yumthang). This district offers some of the most pristine mountain landscapes in India.",
        },
        east: {
          name: "East Sikkim",
          color: "#3498db",
          description:
            "The commercial and cultural heart of Sikkim, East Sikkim houses the capital Gangtok and offers a perfect blend of urban sophistication and natural beauty.",
          attractions: [
            "Gangtok City",
            "Tsomgo Lake",
            "Nathula Pass",
            "Rumtek Monastery",
            "Hanuman Tok",
            "Ban Jhakri Falls",
          ],
          altitude: "280 - 8,586m",
          area: "954 km²",
          headquarters: "Gangtok",
          highlights:
            "Capital city with modern amenities, historic monasteries, and the famous Tsomgo Lake. Gateway to the India-China border at Nathula Pass.",
        },
        west: {
          name: "West Sikkim",
          color: "#2ecc71",
          description:
            "Known for its rich biodiversity and trekking trails, West Sikkim offers spectacular views of Kanchenjunga and houses the famous Pelling town.",
          attractions: [
            "Pelling",
            "Khecheopalri Lake",
            "Yuksom",
            "Dzongri Trek",
            "Kanchenjunga Falls",
            "Rabdentse Ruins",
          ],
          altitude: "700 - 8,586m",
          area: "1,166 km²",
          headquarters: "Gyalshing",
          highlights:
            "Adventure hub with numerous trekking routes. Yuksom is the base for Goechala trek and was the first capital of Sikkim.",
        },
        south: {
          name: "South Sikkim",
          color: "#f39c12",
          description:
            "The most densely populated district featuring terraced fields, ancient monasteries, and the historic town of Namchi with its giant statues.",
          attractions: [
            "Namchi",
            "Char Dham",
            "Samdruptse Statue",
            "Tendong Hill",
            "Ravangla",
            "Buddha Park",
          ],
          altitude: "280 - 6,000m",
          area: "750 km²",
          headquarters: "Namchi",
          highlights:
            "Religious tourism center with the towering Guru Padmasambhava statue and Char Dham replica. Rich in Lepcha and Bhutia culture.",
        },
      };

      function updateInfo(districtKey) {
        const info = districtData[districtKey];
        const infoDisplay = document.getElementById("info-display");

        infoDisplay.innerHTML = `
                <h2>
                    <div class="district-color" style="background-color: ${
                      info.color
                    };"></div>
                    ${info.name}
                </h2>
                <p>${info.description}</p>
                
                <h3>Key Attractions</h3>
                <div class="attractions-list">
                    ${info.attractions
                      .map(
                        (attraction) =>
                          `<span class="attraction-tag">${attraction}</span>`
                      )
                      .join("")}
                </div>
                
                <p><strong>Highlights:</strong> ${info.highlights}</p>
                
                <div class="stats">
                    <div class="stat">
                        <div class="stat-number">${info.altitude}</div>
                        <div class="stat-label">Altitude Range</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">${info.area}</div>
                        <div class="stat-label">Area</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">${info.headquarters}</div>
                        <div class="stat-label">Headquarters</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">${
                          info.attractions.length
                        }</div>
                        <div class="stat-label">Major Attractions</div>
                    </div>
                </div>
            `;

        infoDisplay.className = "district-info active";
        infoDisplay.style.borderLeftColor = info.color;
      }

      // Create tooltip element
      const tooltip = document.createElement('div');
      tooltip.className = 'district-tooltip';
      tooltip.style.display = 'none';
      document.body.appendChild(tooltip);
      
      // Function to highlight a district
      function highlightDistrict(districtKey, event) {
        // Get the SVG document
        const svgObject = document.getElementById('sikkim-svg');
        const svgDoc = svgObject.contentDocument;
        
        if (!svgDoc) return; // SVG not loaded yet
        
        // Reset all districts to normal state
        const allPaths = svgDoc.querySelectorAll('path');
        allPaths.forEach(path => {
          path.style.filter = '';
          path.style.transform = '';
          path.style.transition = 'all 0.3s ease';
        });
        
        // Set the highlight color based on district
        let districtIndex;
        switch(districtKey) {
          case 'north':
            districtIndex = 0; // First path in SVG
            break;
          case 'west':
            districtIndex = 1; // Second path in SVG
            break;
          case 'east':
            districtIndex = 2; // Third path in SVG
            break;
          case 'south':
            districtIndex = 3; // Fourth path in SVG
            break;
          default:
            return;
        }
        
        // Apply highlight effect to the selected district
        const districtPath = allPaths[districtIndex];
        if (districtPath) {
          districtPath.style.filter = 'brightness(1.2) drop-shadow(0 0 5px rgba(0,0,0,0.5))';
          districtPath.style.transform = 'scale(1.02)';
          districtPath.style.transformOrigin = 'center';
        }
        
        // Update info panel
        updateInfo(districtKey);
        
        // Show tooltip if event is provided
        if (event) {
          const district = districtData[districtKey];
          tooltip.innerHTML = `
            <strong>${district.name}</strong><br>
            Population: ${district.population.toLocaleString()}<br>
            Area: ${district.area} km²
          `;
          tooltip.style.display = 'block';
          
          // Position tooltip near cursor but within viewport
          const rect = svgObject.getBoundingClientRect();
          const x = event.clientX - rect.left;
          const y = event.clientY - rect.top;
          
          tooltip.style.left = `${x + 15}px`;
          tooltip.style.top = `${y + 15}px`;
        } else {
          tooltip.style.display = 'none';
        }
      }
      
      // Add zoom and pan functionality to SVG
      function setupSvgInteraction() {
        const svgObject = document.getElementById('sikkim-svg');
        const svgDoc = svgObject.contentDocument;
        
        if (!svgDoc) {
          // If SVG not loaded yet, wait and try again
          setTimeout(setupSvgInteraction, 100);
          return;
        }
        
        const svgElement = svgDoc.querySelector('svg');
        let isDragging = false;
        let startX, startY;
        let viewBox = { x: 0, y: 0, width: 800, height: 800 };
        let currentScale = 1;
        
        // Set initial viewBox
        svgElement.setAttribute('viewBox', `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`);
        
        // Add zoom functionality
        svgObject.addEventListener('wheel', function(e) {
          e.preventDefault();
          
          const mouseX = e.offsetX;
          const mouseY = e.offsetY;
          
          // Calculate position in SVG coordinates
          const svgPoint = {
            x: viewBox.x + (mouseX / svgObject.clientWidth) * viewBox.width,
            y: viewBox.y + (mouseY / svgObject.clientHeight) * viewBox.height
          };
          
          // Zoom factor
          const zoomFactor = e.deltaY > 0 ? 1.1 : 0.9;
          currentScale *= zoomFactor;
          
          // Limit zoom level
          if (currentScale < 0.5) currentScale = 0.5;
          if (currentScale > 5) currentScale = 5;
          
          // Calculate new viewBox dimensions
          const newWidth = 800 / currentScale;
          const newHeight = 800 / currentScale;
          
          // Calculate new viewBox position to zoom into/out of mouse position
          viewBox.x = svgPoint.x - (mouseX / svgObject.clientWidth) * newWidth;
          viewBox.y = svgPoint.y - (mouseY / svgObject.clientHeight) * newHeight;
          viewBox.width = newWidth;
          viewBox.height = newHeight;
          
          // Apply new viewBox
          svgElement.setAttribute('viewBox', `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`);
        });
        
        // Add pan functionality
        svgObject.addEventListener('mousedown', function(e) {
          isDragging = true;
          startX = e.clientX;
          startY = e.clientY;
          svgObject.style.cursor = 'grabbing';
        });
        
        svgObject.addEventListener('mousemove', function(e) {
          if (!isDragging) return;
          
          const dx = (e.clientX - startX) * (viewBox.width / svgObject.clientWidth);
          const dy = (e.clientY - startY) * (viewBox.height / svgObject.clientHeight);
          
          viewBox.x -= dx;
          viewBox.y -= dy;
          
          svgElement.setAttribute('viewBox', `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`);
          
          startX = e.clientX;
          startY = e.clientY;
        });
        
        svgObject.addEventListener('mouseup', function() {
          isDragging = false;
          svgObject.style.cursor = 'grab';
        });
        
        svgObject.addEventListener('mouseleave', function() {
          isDragging = false;
          svgObject.style.cursor = 'grab';
        });
        
        // Set initial cursor
        svgObject.style.cursor = 'grab';
        
        // Add click events to SVG paths
        const paths = svgDoc.querySelectorAll('path');
        paths.forEach((path, index) => {
          let districtKey;
          switch(index) {
            case 0: districtKey = 'north'; break;
            case 1: districtKey = 'west'; break;
            case 2: districtKey = 'east'; break;
            case 3: districtKey = 'south'; break;
          }
          
          if (districtKey) {
            path.style.cursor = 'pointer';
            path.addEventListener('mouseenter', (event) => highlightDistrict(districtKey, event));
            path.addEventListener('click', (event) => highlightDistrict(districtKey, event));
            path.addEventListener('mouseleave', () => {
              tooltip.style.display = 'none';
            });
          }
        });
      }
      
      // Initialize SVG interaction when SVG is loaded
      document.getElementById('sikkim-svg').addEventListener('load', setupSvgInteraction);

      // Add event listeners for legend items
      document.querySelectorAll(".legend-item").forEach((item) => {
        item.addEventListener("mouseenter", (event) => {
          const districtKey = item.getAttribute("data-district");
          highlightDistrict(districtKey, event);
        });

        item.addEventListener("click", (event) => {
          const districtKey = item.getAttribute("data-district");
          highlightDistrict(districtKey, event);
        });
        
        item.addEventListener("mouseleave", () => {
          tooltip.style.display = 'none';
        });
      });
      
      // Add map controls container
      const mapControls = document.createElement('div');
      mapControls.className = 'map-controls';
      
      // Add zoom controls
      const zoomControls = document.createElement('div');
      zoomControls.className = 'zoom-controls';
      
      // Add zoom in button
      const zoomInButton = document.createElement('button');
      zoomInButton.textContent = '+';
      zoomInButton.className = 'zoom-button';
      zoomInButton.title = 'Zoom In';
      zoomInButton.addEventListener('click', function() {
        const svgObject = document.getElementById('sikkim-svg');
        const svgDoc = svgObject.contentDocument;
        if (!svgDoc) return;
        
        const svgElement = svgDoc.querySelector('svg');
        let viewBox = svgElement.viewBox.baseVal;
        
        // Calculate center point
        const centerX = viewBox.x + viewBox.width / 2;
        const centerY = viewBox.y + viewBox.height / 2;
        
        // Zoom in by 20%
        const newWidth = viewBox.width * 0.8;
        const newHeight = viewBox.height * 0.8;
        
        // Recalculate position to keep center point
        const newX = centerX - newWidth / 2;
        const newY = centerY - newHeight / 2;
        
        svgElement.setAttribute('viewBox', `${newX} ${newY} ${newWidth} ${newHeight}`);
      });
      
      // Add zoom out button
      const zoomOutButton = document.createElement('button');
      zoomOutButton.textContent = '-';
      zoomOutButton.className = 'zoom-button';
      zoomOutButton.title = 'Zoom Out';
      zoomOutButton.addEventListener('click', function() {
        const svgObject = document.getElementById('sikkim-svg');
        const svgDoc = svgObject.contentDocument;
        if (!svgDoc) return;
        
        const svgElement = svgDoc.querySelector('svg');
        let viewBox = svgElement.viewBox.baseVal;
        
        // Calculate center point
        const centerX = viewBox.x + viewBox.width / 2;
        const centerY = viewBox.y + viewBox.height / 2;
        
        // Zoom out by 20%
        const newWidth = viewBox.width * 1.2;
        const newHeight = viewBox.height * 1.2;
        
        // Limit maximum zoom out
        if (newWidth > 1200) return;
        
        // Recalculate position to keep center point
        const newX = centerX - newWidth / 2;
        const newY = centerY - newHeight / 2;
        
        svgElement.setAttribute('viewBox', `${newX} ${newY} ${newWidth} ${newHeight}`);
      });
      
      // Add reset zoom button
      const resetButton = document.createElement('button');
      resetButton.textContent = 'Reset View';
      resetButton.className = 'reset-button';
      resetButton.title = 'Reset View';
      resetButton.addEventListener('click', function() {
        const svgObject = document.getElementById('sikkim-svg');
        const svgDoc = svgObject.contentDocument;
        if (!svgDoc) return;
        
        const svgElement = svgDoc.querySelector('svg');
        svgElement.setAttribute('viewBox', '0 0 800 800');
      });
      
      // Assemble controls
      zoomControls.appendChild(zoomInButton);
      zoomControls.appendChild(zoomOutButton);
      mapControls.appendChild(zoomControls);
      mapControls.appendChild(resetButton);
      
      document.querySelector('.sikkim-map').appendChild(mapControls);
    </script>
  </body>
</html>
